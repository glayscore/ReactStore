{"ast":null,"code":"/**\n * @author Kai Salmen / https://kaisalmen.de\n * Development repository: https://github.com/kaisalmen/WWOBJLoader\n */\nimport { LineBasicMaterial, MaterialLoader, MeshStandardMaterial, PointsMaterial } from \"../../../../../build/three.module.js\";\n\nconst MaterialHandler = function () {\n  this.logging = {\n    enabled: false,\n    debug: false\n  };\n  this.callbacks = {\n    onLoadMaterials: null\n  };\n  this.materials = {};\n};\n\nMaterialHandler.prototype = {\n  constructor: MaterialHandler,\n\n  /**\n   * Enable or disable logging in general (except warn and error), plus enable or disable debug logging.\n   *\n   * @param {boolean} enabled True or false.\n   * @param {boolean} debug True or false.\n   */\n  setLogging: function (enabled, debug) {\n    this.logging.enabled = enabled === true;\n    this.logging.debug = debug === true;\n  },\n  _setCallbacks: function (onLoadMaterials) {\n    if (onLoadMaterials !== undefined && onLoadMaterials !== null && onLoadMaterials instanceof Function) {\n      this.callbacks.onLoadMaterials = onLoadMaterials;\n    }\n  },\n\n  /**\n   * Creates default materials and adds them to the materials object.\n   *\n   * @param overrideExisting boolean Override existing material\n   */\n  createDefaultMaterials: function (overrideExisting) {\n    let defaultMaterial = new MeshStandardMaterial({\n      color: 0xDCF1FF\n    });\n    defaultMaterial.name = 'defaultMaterial';\n    let defaultVertexColorMaterial = new MeshStandardMaterial({\n      color: 0xDCF1FF\n    });\n    defaultVertexColorMaterial.name = 'defaultVertexColorMaterial';\n    defaultVertexColorMaterial.vertexColors = true;\n    let defaultLineMaterial = new LineBasicMaterial();\n    defaultLineMaterial.name = 'defaultLineMaterial';\n    let defaultPointMaterial = new PointsMaterial({\n      size: 0.1\n    });\n    defaultPointMaterial.name = 'defaultPointMaterial';\n    let runtimeMaterials = {};\n    runtimeMaterials[defaultMaterial.name] = defaultMaterial;\n    runtimeMaterials[defaultVertexColorMaterial.name] = defaultVertexColorMaterial;\n    runtimeMaterials[defaultLineMaterial.name] = defaultLineMaterial;\n    runtimeMaterials[defaultPointMaterial.name] = defaultPointMaterial;\n    this.addMaterials(runtimeMaterials, overrideExisting);\n  },\n\n  /**\n   * Updates the materials with contained material objects (sync) or from alteration instructions (async).\n   *\n   * @param {Object} materialPayload Material update instructions\n   * @returns {Object} Map of {@link Material}\n   */\n  addPayloadMaterials: function (materialPayload) {\n    let material, materialName;\n    let materialCloneInstructions = materialPayload.materials.materialCloneInstructions;\n    let newMaterials = {};\n\n    if (materialCloneInstructions !== undefined && materialCloneInstructions !== null) {\n      let materialNameOrg = materialCloneInstructions.materialNameOrg;\n      materialNameOrg = materialNameOrg !== undefined && materialNameOrg !== null ? materialNameOrg : \"\";\n      let materialOrg = this.materials[materialNameOrg];\n\n      if (materialOrg) {\n        material = materialOrg.clone();\n        materialName = materialCloneInstructions.materialName;\n        material.name = materialName;\n        Object.assign(material, materialCloneInstructions.materialProperties);\n        this.materials[materialName] = material;\n        newMaterials[materialName] = material;\n      } else {\n        if (this.logging.enabled) {\n          console.info('Requested material \"' + materialNameOrg + '\" is not available!');\n        }\n      }\n    }\n\n    let materials = materialPayload.materials.serializedMaterials;\n\n    if (materials !== undefined && materials !== null && Object.keys(materials).length > 0) {\n      let loader = new MaterialLoader();\n      let materialJson;\n\n      for (materialName in materials) {\n        materialJson = materials[materialName];\n\n        if (materialJson !== undefined && materialJson !== null) {\n          material = loader.parse(materialJson);\n\n          if (this.logging.enabled) {\n            console.info('De-serialized material with name \"' + materialName + '\" will be added.');\n          }\n\n          this.materials[materialName] = material;\n          newMaterials[materialName] = material;\n        }\n      }\n    }\n\n    materials = materialPayload.materials.runtimeMaterials;\n    newMaterials = this.addMaterials(materials, true, newMaterials);\n    return newMaterials;\n  },\n\n  /**\n   * Set materials loaded by any supplier of an Array of {@link Material}.\n   *\n   * @param materials Object with named {@link Material}\n   * @param overrideExisting boolean Override existing material\n   * @param newMaterials [Object] with named {@link Material}\n   */\n  addMaterials: function (materials, overrideExisting, newMaterials) {\n    if (newMaterials === undefined || newMaterials === null) {\n      newMaterials = {};\n    }\n\n    if (materials !== undefined && materials !== null && Object.keys(materials).length > 0) {\n      let material;\n      let existingMaterial;\n      let add;\n\n      for (let materialName in materials) {\n        material = materials[materialName];\n        add = overrideExisting === true;\n\n        if (!add) {\n          existingMaterial = this.materials[materialName];\n          add = existingMaterial === null || existingMaterial === undefined;\n        }\n\n        if (add) {\n          this.materials[materialName] = material;\n          newMaterials[materialName] = material;\n        }\n\n        if (this.logging.enabled && this.logging.debug) {\n          console.info('Material with name \"' + materialName + '\" was added.');\n        }\n      }\n    }\n\n    if (this.callbacks.onLoadMaterials) {\n      this.callbacks.onLoadMaterials(newMaterials);\n    }\n\n    return newMaterials;\n  },\n\n  /**\n   * Returns the mapping object of material name and corresponding material.\n   *\n   * @returns {Object} Map of {@link Material}\n   */\n  getMaterials: function () {\n    return this.materials;\n  },\n\n  /**\n   *\n   * @param {String} materialName\n   * @returns {Material}\n   */\n  getMaterial: function (materialName) {\n    return this.materials[materialName];\n  },\n\n  /**\n   * Returns the mapping object of material name and corresponding jsonified material.\n   *\n   * @returns {Object} Map of Materials in JSON representation\n   */\n  getMaterialsJSON: function () {\n    let materialsJSON = {};\n    let material;\n\n    for (let materialName in this.materials) {\n      material = this.materials[materialName];\n      materialsJSON[materialName] = material.toJSON();\n    }\n\n    return materialsJSON;\n  },\n\n  /**\n   * Removes all materials\n   */\n  clearMaterials: function () {\n    this.materials = {};\n  }\n};\nexport { MaterialHandler };","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Docs/Web/cg/cg_panner/node_modules/three/examples/jsm/loaders/obj2/shared/MaterialHandler.js"],"names":["LineBasicMaterial","MaterialLoader","MeshStandardMaterial","PointsMaterial","MaterialHandler","logging","enabled","debug","callbacks","onLoadMaterials","materials","prototype","constructor","setLogging","_setCallbacks","undefined","Function","createDefaultMaterials","overrideExisting","defaultMaterial","color","name","defaultVertexColorMaterial","vertexColors","defaultLineMaterial","defaultPointMaterial","size","runtimeMaterials","addMaterials","addPayloadMaterials","materialPayload","material","materialName","materialCloneInstructions","newMaterials","materialNameOrg","materialOrg","clone","Object","assign","materialProperties","console","info","serializedMaterials","keys","length","loader","materialJson","parse","existingMaterial","add","getMaterials","getMaterial","getMaterialsJSON","materialsJSON","toJSON","clearMaterials"],"mappings":"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","sourcesContent":["/**\n * @author Kai Salmen / https://kaisalmen.de\n * Development repository: https://github.com/kaisalmen/WWOBJLoader\n */\n\nimport {\n\tLineBasicMaterial,\n\tMaterialLoader,\n\tMeshStandardMaterial,\n\tPointsMaterial\n} from \"../../../../../build/three.module.js\";\n\n\nconst MaterialHandler = function () {\n\n\tthis.logging = {\n\t\tenabled: false,\n\t\tdebug: false\n\t};\n\n\tthis.callbacks = {\n\t\tonLoadMaterials: null\n\t};\n\tthis.materials = {};\n\n};\n\nMaterialHandler.prototype = {\n\n\tconstructor: MaterialHandler,\n\n\t/**\n\t * Enable or disable logging in general (except warn and error), plus enable or disable debug logging.\n\t *\n\t * @param {boolean} enabled True or false.\n\t * @param {boolean} debug True or false.\n\t */\n\tsetLogging:\tfunction ( enabled, debug ) {\n\n\t\tthis.logging.enabled = enabled === true;\n\t\tthis.logging.debug = debug === true;\n\n\t},\n\n\t_setCallbacks: function ( onLoadMaterials ) {\n\n\t\tif ( onLoadMaterials !== undefined && onLoadMaterials !== null && onLoadMaterials instanceof Function ) {\n\n\t\t\tthis.callbacks.onLoadMaterials = onLoadMaterials;\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Creates default materials and adds them to the materials object.\n\t *\n\t * @param overrideExisting boolean Override existing material\n\t */\n\tcreateDefaultMaterials: function ( overrideExisting ) {\n\n\t\tlet defaultMaterial = new MeshStandardMaterial( { color: 0xDCF1FF } );\n\t\tdefaultMaterial.name = 'defaultMaterial';\n\n\t\tlet defaultVertexColorMaterial = new MeshStandardMaterial( { color: 0xDCF1FF } );\n\t\tdefaultVertexColorMaterial.name = 'defaultVertexColorMaterial';\n\t\tdefaultVertexColorMaterial.vertexColors = true;\n\n\t\tlet defaultLineMaterial = new LineBasicMaterial();\n\t\tdefaultLineMaterial.name = 'defaultLineMaterial';\n\n\t\tlet defaultPointMaterial = new PointsMaterial( { size: 0.1 } );\n\t\tdefaultPointMaterial.name = 'defaultPointMaterial';\n\n\t\tlet runtimeMaterials = {};\n\t\truntimeMaterials[ defaultMaterial.name ] = defaultMaterial;\n\t\truntimeMaterials[ defaultVertexColorMaterial.name ] = defaultVertexColorMaterial;\n\t\truntimeMaterials[ defaultLineMaterial.name ] = defaultLineMaterial;\n\t\truntimeMaterials[ defaultPointMaterial.name ] = defaultPointMaterial;\n\n\t\tthis.addMaterials( runtimeMaterials, overrideExisting );\n\n\t},\n\n\t/**\n\t * Updates the materials with contained material objects (sync) or from alteration instructions (async).\n\t *\n\t * @param {Object} materialPayload Material update instructions\n\t * @returns {Object} Map of {@link Material}\n\t */\n\taddPayloadMaterials: function ( materialPayload ) {\n\n\t\tlet material, materialName;\n\t\tlet materialCloneInstructions = materialPayload.materials.materialCloneInstructions;\n\t\tlet newMaterials = {};\n\n\t\tif ( materialCloneInstructions !== undefined && materialCloneInstructions !== null ) {\n\n\t\t\tlet materialNameOrg = materialCloneInstructions.materialNameOrg;\n\t\t\tmaterialNameOrg = ( materialNameOrg !== undefined && materialNameOrg !== null ) ? materialNameOrg : \"\";\n\t\t\tlet materialOrg = this.materials[ materialNameOrg ];\n\t\t\tif ( materialOrg ) {\n\n\t\t\t\tmaterial = materialOrg.clone();\n\n\t\t\t\tmaterialName = materialCloneInstructions.materialName;\n\t\t\t\tmaterial.name = materialName;\n\n\t\t\t\tObject.assign( material, materialCloneInstructions.materialProperties );\n\n\t\t\t\tthis.materials[ materialName ] = material;\n\t\t\t\tnewMaterials[ materialName ] = material;\n\n\t\t\t} else {\n\n\t\t\t\tif ( this.logging.enabled ) {\n\n\t\t\t\t\tconsole.info( 'Requested material \"' + materialNameOrg + '\" is not available!' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet materials = materialPayload.materials.serializedMaterials;\n\n\t\tif ( materials !== undefined && materials !== null && Object.keys( materials ).length > 0 ) {\n\n\t\t\tlet loader = new MaterialLoader();\n\t\t\tlet materialJson;\n\n\t\t\tfor ( materialName in materials ) {\n\n\t\t\t\tmaterialJson = materials[ materialName ];\n\n\t\t\t\tif ( materialJson !== undefined && materialJson !== null ) {\n\n\t\t\t\t\tmaterial = loader.parse( materialJson );\n\n\t\t\t\t\tif ( this.logging.enabled ) {\n\n\t\t\t\t\t\tconsole.info( 'De-serialized material with name \"' + materialName + '\" will be added.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.materials[ materialName ] = material;\n\t\t\t\t\tnewMaterials[ materialName ] = material;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tmaterials = materialPayload.materials.runtimeMaterials;\n\t\tnewMaterials = this.addMaterials( materials, true, newMaterials );\n\n\t\treturn newMaterials;\n\n\t},\n\n\t/**\n\t * Set materials loaded by any supplier of an Array of {@link Material}.\n\t *\n\t * @param materials Object with named {@link Material}\n\t * @param overrideExisting boolean Override existing material\n\t * @param newMaterials [Object] with named {@link Material}\n\t */\n\taddMaterials: function ( materials, overrideExisting, newMaterials ) {\n\n\t\tif ( newMaterials === undefined || newMaterials === null ) {\n\n\t\t\tnewMaterials = {};\n\n\t\t}\n\n\t\tif ( materials !== undefined && materials !== null && Object.keys( materials ).length > 0 ) {\n\n\t\t\tlet material;\n\t\t\tlet existingMaterial;\n\t\t\tlet add;\n\n\t\t\tfor ( let materialName in materials ) {\n\n\t\t\t\tmaterial = materials[ materialName ];\n\t\t\t\tadd = overrideExisting === true;\n\n\t\t\t\tif ( ! add ) {\n\n\t\t\t\t\texistingMaterial = this.materials[ materialName ];\n\t\t\t\t\tadd = ( existingMaterial === null || existingMaterial === undefined );\n\n\t\t\t\t}\n\n\t\t\t\tif ( add ) {\n\n\t\t\t\t\tthis.materials[ materialName ] = material;\n\t\t\t\t\tnewMaterials[ materialName ] = material;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.logging.enabled && this.logging.debug ) {\n\n\t\t\t\t\tconsole.info( 'Material with name \"' + materialName + '\" was added.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.callbacks.onLoadMaterials ) {\n\n\t\t\tthis.callbacks.onLoadMaterials( newMaterials );\n\n\t\t}\n\n\t\treturn newMaterials;\n\n\t},\n\n\t/**\n\t * Returns the mapping object of material name and corresponding material.\n\t *\n\t * @returns {Object} Map of {@link Material}\n\t */\n\tgetMaterials: function () {\n\n\t\treturn this.materials;\n\n\t},\n\n\t/**\n\t *\n\t * @param {String} materialName\n\t * @returns {Material}\n\t */\n\tgetMaterial: function ( materialName ) {\n\n\t\treturn this.materials[ materialName ];\n\n\t},\n\n\t/**\n\t * Returns the mapping object of material name and corresponding jsonified material.\n\t *\n\t * @returns {Object} Map of Materials in JSON representation\n\t */\n\tgetMaterialsJSON: function () {\n\n\t\tlet materialsJSON = {};\n\t\tlet material;\n\n\t\tfor ( let materialName in this.materials ) {\n\n\t\t\tmaterial = this.materials[ materialName ];\n\t\t\tmaterialsJSON[ materialName ] = material.toJSON();\n\n\t\t}\n\n\t\treturn materialsJSON;\n\n\t},\n\n\t/**\n\t * Removes all materials\n\t */\n\tclearMaterials: function () {\n\n\t\tthis.materials = {};\n\n\t}\n\n};\n\nexport { MaterialHandler };\n"]},"metadata":{},"sourceType":"module"}