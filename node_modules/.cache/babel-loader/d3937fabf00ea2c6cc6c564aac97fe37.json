{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n\nvar THREE = require(\"three\");\n\nvar STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  DOLLY: 1,\n  PAN: 2,\n  TOUCH_ROTATE: 3,\n  TOUCH_DOLLY: 4,\n  TOUCH_PAN: 5\n};\nvar CHANGE_EVENT = {\n  type: 'change'\n};\nvar START_EVENT = {\n  type: 'start'\n};\nvar END_EVENT = {\n  type: 'end'\n};\nvar EPS = 0.000001;\n/**\n* @author qiao / https://github.com/qiao\n* @author mrdoob / http://mrdoob.com\n* @author alteredq / http://alteredqualia.com/\n* @author WestLangley / http://github.com/WestLangley\n* @author erich666 / http://erichaines.com\n* @author nicolaspanel / http://github.com/nicolaspanel\n*\n* This set of controls performs orbiting, dollying (zooming), and panning.\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n*    Orbit - left mouse / touch: one finger move\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\n*/\n\nvar OrbitControls = function (_super) {\n  __extends(OrbitControls, _super);\n\n  function OrbitControls(object, domElement, domWindow) {\n    var _this = _super.call(this) || this;\n\n    _this.object = object;\n    _this.domElement = domElement !== undefined ? domElement : document;\n    _this.window = domWindow !== undefined ? domWindow : window; // Set to false to disable this control\n\n    _this.enabled = true; // \"target\" sets the location of focus, where the object orbits around\n\n    _this.target = new THREE.Vector3(); // How far you can dolly in and out ( PerspectiveCamera only )\n\n    _this.minDistance = 0;\n    _this.maxDistance = Infinity; // How far you can zoom in and out ( OrthographicCamera only )\n\n    _this.minZoom = 0;\n    _this.maxZoom = Infinity; // How far you can orbit vertically, upper and lower limits.\n    // Range is 0 to Math.PI radians.\n\n    _this.minPolarAngle = 0; // radians\n\n    _this.maxPolarAngle = Math.PI; // radians\n    // How far you can orbit horizontally, upper and lower limits.\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n\n    _this.minAzimuthAngle = -Infinity; // radians\n\n    _this.maxAzimuthAngle = Infinity; // radians\n    // Set to true to enable damping (inertia)\n    // If damping is enabled, you must call controls.update() in your animation loop\n\n    _this.enableDamping = false;\n    _this.dampingFactor = 0.25; // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n    // Set to false to disable zooming\n\n    _this.enableZoom = true;\n    _this.zoomSpeed = 1.0; // Set to false to disable rotating\n\n    _this.enableRotate = true;\n    _this.rotateSpeed = 1.0; // Set to false to disable panning\n\n    _this.enablePan = true;\n    _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n    // Set to true to automatically rotate around the target\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\n\n    _this.autoRotate = false;\n    _this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n    // Set to false to disable use of the keys\n\n    _this.enableKeys = true; // The four arrow keys\n\n    _this.keys = {\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      BOTTOM: 40\n    }; // Mouse buttons\n\n    _this.mouseButtons = {\n      ORBIT: THREE.MOUSE.LEFT,\n      ZOOM: THREE.MOUSE.MIDDLE,\n      PAN: THREE.MOUSE.RIGHT\n    }; // for reset\n\n    _this.target0 = _this.target.clone();\n    _this.position0 = _this.object.position.clone();\n    _this.zoom0 = _this.object.zoom; // for update speedup\n\n    _this.updateOffset = new THREE.Vector3(); // so camera.up is the orbit axis\n\n    _this.updateQuat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n    _this.updateQuatInverse = _this.updateQuat.clone().inverse();\n    _this.updateLastPosition = new THREE.Vector3();\n    _this.updateLastQuaternion = new THREE.Quaternion();\n    _this.state = STATE.NONE;\n    _this.scale = 1; // current position in spherical coordinates\n\n    _this.spherical = new THREE.Spherical();\n    _this.sphericalDelta = new THREE.Spherical();\n    _this.panOffset = new THREE.Vector3();\n    _this.zoomChanged = false;\n    _this.rotateStart = new THREE.Vector2();\n    _this.rotateEnd = new THREE.Vector2();\n    _this.rotateDelta = new THREE.Vector2();\n    _this.panStart = new THREE.Vector2();\n    _this.panEnd = new THREE.Vector2();\n    _this.panDelta = new THREE.Vector2();\n    _this.dollyStart = new THREE.Vector2();\n    _this.dollyEnd = new THREE.Vector2();\n    _this.dollyDelta = new THREE.Vector2();\n    _this.panLeftV = new THREE.Vector3();\n    _this.panUpV = new THREE.Vector3();\n    _this.panInternalOffset = new THREE.Vector3(); // event handlers - FSM: listen for events and reset state\n\n    _this.onMouseDown = function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      if (event.button === _this.mouseButtons.ORBIT) {\n        if (_this.enableRotate === false) return;\n\n        _this.rotateStart.set(event.clientX, event.clientY);\n\n        _this.state = STATE.ROTATE;\n      } else if (event.button === _this.mouseButtons.ZOOM) {\n        if (_this.enableZoom === false) return;\n\n        _this.dollyStart.set(event.clientX, event.clientY);\n\n        _this.state = STATE.DOLLY;\n      } else if (event.button === _this.mouseButtons.PAN) {\n        if (_this.enablePan === false) return;\n\n        _this.panStart.set(event.clientX, event.clientY);\n\n        _this.state = STATE.PAN;\n      }\n\n      if (_this.state !== STATE.NONE) {\n        document.addEventListener('mousemove', _this.onMouseMove, false);\n        document.addEventListener('mouseup', _this.onMouseUp, false);\n\n        _this.dispatchEvent(START_EVENT);\n      }\n    };\n\n    _this.onMouseMove = function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n\n      if (_this.state === STATE.ROTATE) {\n        if (_this.enableRotate === false) return;\n\n        _this.rotateEnd.set(event.clientX, event.clientY);\n\n        _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n\n        var element = _this.domElement === document ? _this.domElement.body : _this.domElement; // rotating across whole screen goes 360 degrees around\n\n        _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n\n        _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n\n        _this.rotateStart.copy(_this.rotateEnd);\n\n        _this.update();\n      } else if (_this.state === STATE.DOLLY) {\n        if (_this.enableZoom === false) return;\n\n        _this.dollyEnd.set(event.clientX, event.clientY);\n\n        _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n\n        if (_this.dollyDelta.y > 0) {\n          _this.dollyIn(_this.getZoomScale());\n        } else if (_this.dollyDelta.y < 0) {\n          _this.dollyOut(_this.getZoomScale());\n        }\n\n        _this.dollyStart.copy(_this.dollyEnd);\n\n        _this.update();\n      } else if (_this.state === STATE.PAN) {\n        if (_this.enablePan === false) return;\n\n        _this.panEnd.set(event.clientX, event.clientY);\n\n        _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n\n        _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n        _this.panStart.copy(_this.panEnd);\n\n        _this.update();\n      }\n    };\n\n    _this.onMouseUp = function (event) {\n      if (_this.enabled === false) return;\n      document.removeEventListener('mousemove', _this.onMouseMove, false);\n      document.removeEventListener('mouseup', _this.onMouseUp, false);\n\n      _this.dispatchEvent(END_EVENT);\n\n      _this.state = STATE.NONE;\n    };\n\n    _this.onMouseWheel = function (event) {\n      if (_this.enabled === false || _this.enableZoom === false || _this.state !== STATE.NONE && _this.state !== STATE.ROTATE) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      if (event.deltaY < 0) {\n        _this.dollyOut(_this.getZoomScale());\n      } else if (event.deltaY > 0) {\n        _this.dollyIn(_this.getZoomScale());\n      }\n\n      _this.update();\n\n      _this.dispatchEvent(START_EVENT); // not sure why these are here...\n\n\n      _this.dispatchEvent(END_EVENT);\n    };\n\n    _this.onKeyDown = function (event) {\n      if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false) return;\n\n      switch (event.keyCode) {\n        case _this.keys.UP:\n          {\n            _this.pan(0, _this.keyPanSpeed);\n\n            _this.update();\n          }\n          break;\n\n        case _this.keys.BOTTOM:\n          {\n            _this.pan(0, -_this.keyPanSpeed);\n\n            _this.update();\n          }\n          break;\n\n        case _this.keys.LEFT:\n          {\n            _this.pan(_this.keyPanSpeed, 0);\n\n            _this.update();\n          }\n          break;\n\n        case _this.keys.RIGHT:\n          {\n            _this.pan(-_this.keyPanSpeed, 0);\n\n            _this.update();\n          }\n          break;\n      }\n    };\n\n    _this.onTouchStart = function (event) {\n      if (_this.enabled === false) return;\n\n      switch (event.touches.length) {\n        // one-fingered touch: rotate\n        case 1:\n          {\n            if (_this.enableRotate === false) return;\n\n            _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.state = STATE.TOUCH_ROTATE;\n          }\n          break;\n        // two-fingered touch: dolly\n\n        case 2:\n          {\n            if (_this.enableZoom === false) return;\n            var dx = event.touches[0].pageX - event.touches[1].pageX;\n            var dy = event.touches[0].pageY - event.touches[1].pageY;\n            var distance = Math.sqrt(dx * dx + dy * dy);\n\n            _this.dollyStart.set(0, distance);\n\n            _this.state = STATE.TOUCH_DOLLY;\n          }\n          break;\n        // three-fingered touch: pan\n\n        case 3:\n          {\n            if (_this.enablePan === false) return;\n\n            _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.state = STATE.TOUCH_PAN;\n          }\n          break;\n\n        default:\n          {\n            _this.state = STATE.NONE;\n          }\n      }\n\n      if (_this.state !== STATE.NONE) {\n        _this.dispatchEvent(START_EVENT);\n      }\n    };\n\n    _this.onTouchMove = function (event) {\n      if (_this.enabled === false) return;\n      event.preventDefault();\n      event.stopPropagation();\n\n      switch (event.touches.length) {\n        // one-fingered touch: rotate\n        case 1:\n          {\n            if (_this.enableRotate === false) return;\n            if (_this.state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n            _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n\n            var element = _this.domElement === document ? _this.domElement.body : _this.domElement; // rotating across whole screen goes 360 degrees around\n\n            _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed); // rotating up and down along whole screen attempts to go 360, but limited to 180\n\n\n            _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n\n            _this.rotateStart.copy(_this.rotateEnd);\n\n            _this.update();\n          }\n          break;\n        // two-fingered touch: dolly\n\n        case 2:\n          {\n            if (_this.enableZoom === false) return;\n            if (_this.state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n            //console.log( 'handleTouchMoveDolly' );\n\n            var dx = event.touches[0].pageX - event.touches[1].pageX;\n            var dy = event.touches[0].pageY - event.touches[1].pageY;\n            var distance = Math.sqrt(dx * dx + dy * dy);\n\n            _this.dollyEnd.set(0, distance);\n\n            _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n\n            if (_this.dollyDelta.y > 0) {\n              _this.dollyOut(_this.getZoomScale());\n            } else if (_this.dollyDelta.y < 0) {\n              _this.dollyIn(_this.getZoomScale());\n            }\n\n            _this.dollyStart.copy(_this.dollyEnd);\n\n            _this.update();\n          }\n          break;\n        // three-fingered touch: pan\n\n        case 3:\n          {\n            if (_this.enablePan === false) return;\n            if (_this.state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n            _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n            _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n\n            _this.pan(_this.panDelta.x, _this.panDelta.y);\n\n            _this.panStart.copy(_this.panEnd);\n\n            _this.update();\n          }\n          break;\n\n        default:\n          {\n            _this.state = STATE.NONE;\n          }\n      }\n    };\n\n    _this.onTouchEnd = function (event) {\n      if (_this.enabled === false) return;\n\n      _this.dispatchEvent(END_EVENT);\n\n      _this.state = STATE.NONE;\n    };\n\n    _this.onContextMenu = function (event) {\n      event.preventDefault();\n    };\n\n    _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\n\n    _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\n\n    _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\n\n    _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\n\n    _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\n\n    _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\n\n    _this.window.addEventListener('keydown', _this.onKeyDown, false); // force an update at start\n\n\n    _this.update();\n\n    return _this;\n  }\n\n  OrbitControls.prototype.update = function () {\n    var position = this.object.position;\n    this.updateOffset.copy(position).sub(this.target); // rotate offset to \"y-axis-is-up\" space\n\n    this.updateOffset.applyQuaternion(this.updateQuat); // angle from z-axis around y-axis\n\n    this.spherical.setFromVector3(this.updateOffset);\n\n    if (this.autoRotate && this.state === STATE.NONE) {\n      this.rotateLeft(this.getAutoRotationAngle());\n    }\n\n    this.spherical.theta += this.sphericalDelta.theta;\n    this.spherical.phi += this.sphericalDelta.phi; // restrict theta to be between desired limits\n\n    this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta)); // restrict phi to be between desired limits\n\n    this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n    this.spherical.makeSafe();\n    this.spherical.radius *= this.scale; // restrict radius to be between desired limits\n\n    this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius)); // move target to panned location\n\n    this.target.add(this.panOffset);\n    this.updateOffset.setFromSpherical(this.spherical); // rotate offset back to \"camera-up-vector-is-up\" space\n\n    this.updateOffset.applyQuaternion(this.updateQuatInverse);\n    position.copy(this.target).add(this.updateOffset);\n    this.object.lookAt(this.target);\n\n    if (this.enableDamping === true) {\n      this.sphericalDelta.theta *= 1 - this.dampingFactor;\n      this.sphericalDelta.phi *= 1 - this.dampingFactor;\n    } else {\n      this.sphericalDelta.set(0, 0, 0);\n    }\n\n    this.scale = 1;\n    this.panOffset.set(0, 0, 0); // update condition is:\n    // min(camera displacement, camera rotation in radians)^2 > EPS\n    // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n    if (this.zoomChanged || this.updateLastPosition.distanceToSquared(this.object.position) > EPS || 8 * (1 - this.updateLastQuaternion.dot(this.object.quaternion)) > EPS) {\n      this.dispatchEvent(CHANGE_EVENT);\n      this.updateLastPosition.copy(this.object.position);\n      this.updateLastQuaternion.copy(this.object.quaternion);\n      this.zoomChanged = false;\n      return true;\n    }\n\n    return false;\n  };\n\n  OrbitControls.prototype.panLeft = function (distance, objectMatrix) {\n    this.panLeftV.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n\n    this.panLeftV.multiplyScalar(-distance);\n    this.panOffset.add(this.panLeftV);\n  };\n\n  OrbitControls.prototype.panUp = function (distance, objectMatrix) {\n    this.panUpV.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n\n    this.panUpV.multiplyScalar(distance);\n    this.panOffset.add(this.panUpV);\n  }; // deltaX and deltaY are in pixels; right and down are positive\n\n\n  OrbitControls.prototype.pan = function (deltaX, deltaY) {\n    var element = this.domElement === document ? this.domElement.body : this.domElement;\n\n    if (this.object instanceof THREE.PerspectiveCamera) {\n      // perspective\n      var position = this.object.position;\n      this.panInternalOffset.copy(position).sub(this.target);\n      var targetDistance = this.panInternalOffset.length(); // half of the fov is center to top of screen\n\n      targetDistance *= Math.tan(this.object.fov / 2 * Math.PI / 180.0); // we actually don't use screenWidth, since perspective camera is fixed to screen height\n\n      this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n      this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n    } else if (this.object instanceof THREE.OrthographicCamera) {\n      // orthographic\n      this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n      this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n    } else {\n      // camera neither orthographic nor perspective\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n      this.enablePan = false;\n    }\n  };\n\n  OrbitControls.prototype.dollyIn = function (dollyScale) {\n    if (this.object instanceof THREE.PerspectiveCamera) {\n      this.scale /= dollyScale;\n    } else if (this.object instanceof THREE.OrthographicCamera) {\n      this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      this.enableZoom = false;\n    }\n  };\n\n  OrbitControls.prototype.dollyOut = function (dollyScale) {\n    if (this.object instanceof THREE.PerspectiveCamera) {\n      this.scale *= dollyScale;\n    } else if (this.object instanceof THREE.OrthographicCamera) {\n      this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n      this.object.updateProjectionMatrix();\n      this.zoomChanged = true;\n    } else {\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      this.enableZoom = false;\n    }\n  };\n\n  OrbitControls.prototype.getAutoRotationAngle = function () {\n    return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n  };\n\n  OrbitControls.prototype.getZoomScale = function () {\n    return Math.pow(0.95, this.zoomSpeed);\n  };\n\n  OrbitControls.prototype.rotateLeft = function (angle) {\n    this.sphericalDelta.theta -= angle;\n  };\n\n  OrbitControls.prototype.rotateUp = function (angle) {\n    this.sphericalDelta.phi -= angle;\n  };\n\n  OrbitControls.prototype.getPolarAngle = function () {\n    return this.spherical.phi;\n  };\n\n  OrbitControls.prototype.getAzimuthalAngle = function () {\n    return this.spherical.theta;\n  };\n\n  OrbitControls.prototype.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n    this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n    this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n    this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n    this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n    this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n    document.removeEventListener('mousemove', this.onMouseMove, false);\n    document.removeEventListener('mouseup', this.onMouseUp, false);\n    this.window.removeEventListener('keydown', this.onKeyDown, false); //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  OrbitControls.prototype.reset = function () {\n    this.target.copy(this.target0);\n    this.object.position.copy(this.position0);\n    this.object.zoom = this.zoom0;\n    this.object.updateProjectionMatrix();\n    this.dispatchEvent(CHANGE_EVENT);\n    this.update();\n    this.state = STATE.NONE;\n  };\n\n  Object.defineProperty(OrbitControls.prototype, \"center\", {\n    // backward compatibility\n    get: function () {\n      console.warn('THREE.OrbitControls: .center has been renamed to .target');\n      return this.target;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OrbitControls.prototype, \"noZoom\", {\n    get: function () {\n      console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      return !this.enableZoom;\n    },\n    set: function (value) {\n      console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n      this.enableZoom = !value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return OrbitControls;\n}(THREE.EventDispatcher);\n\nexports.OrbitControls = OrbitControls;","map":{"version":3,"sources":["C:/Users/Admin/Desktop/Docs/Web/cg/cg_panner/node_modules/three-orbitcontrols-ts/dist/index.js"],"names":["__extends","d","b","p","hasOwnProperty","__","constructor","prototype","Object","create","THREE","require","STATE","NONE","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","CHANGE_EVENT","type","START_EVENT","END_EVENT","EPS","OrbitControls","_super","object","domElement","domWindow","_this","call","undefined","document","window","enabled","target","Vector3","minDistance","maxDistance","Infinity","minZoom","maxZoom","minPolarAngle","maxPolarAngle","Math","PI","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","keys","LEFT","UP","RIGHT","BOTTOM","mouseButtons","ORBIT","MOUSE","ZOOM","MIDDLE","target0","clone","position0","position","zoom0","zoom","updateOffset","updateQuat","Quaternion","setFromUnitVectors","up","updateQuatInverse","inverse","updateLastPosition","updateLastQuaternion","state","scale","spherical","Spherical","sphericalDelta","panOffset","zoomChanged","rotateStart","Vector2","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","panLeftV","panUpV","panInternalOffset","onMouseDown","event","preventDefault","button","set","clientX","clientY","addEventListener","onMouseMove","onMouseUp","dispatchEvent","subVectors","element","body","rotateLeft","x","clientWidth","rotateUp","y","clientHeight","copy","update","dollyIn","getZoomScale","dollyOut","pan","removeEventListener","onMouseWheel","stopPropagation","deltaY","onKeyDown","keyCode","onTouchStart","touches","length","pageX","pageY","dx","dy","distance","sqrt","onTouchMove","onTouchEnd","onContextMenu","sub","applyQuaternion","setFromVector3","getAutoRotationAngle","theta","phi","max","min","makeSafe","radius","add","setFromSpherical","lookAt","distanceToSquared","dot","quaternion","panLeft","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","deltaX","PerspectiveCamera","targetDistance","tan","fov","matrix","OrthographicCamera","right","left","top","bottom","console","warn","dollyScale","updateProjectionMatrix","pow","angle","getPolarAngle","getAzimuthalAngle","dispose","reset","defineProperty","get","enumerable","configurable","value","EventDispatcher","exports"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar THREE = require(\"three\");\nvar STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY: 4,\n    TOUCH_PAN: 5\n};\nvar CHANGE_EVENT = { type: 'change' };\nvar START_EVENT = { type: 'start' };\nvar END_EVENT = { type: 'end' };\nvar EPS = 0.000001;\n/**\n* @author qiao / https://github.com/qiao\n* @author mrdoob / http://mrdoob.com\n* @author alteredq / http://alteredqualia.com/\n* @author WestLangley / http://github.com/WestLangley\n* @author erich666 / http://erichaines.com\n* @author nicolaspanel / http://github.com/nicolaspanel\n*\n* This set of controls performs orbiting, dollying (zooming), and panning.\n* Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n*    Orbit - left mouse / touch: one finger move\n*    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n*    Pan - right mouse, or arrow keys / touch: three finger swipe\n*/\nvar OrbitControls = (function (_super) {\n    __extends(OrbitControls, _super);\n    function OrbitControls(object, domElement, domWindow) {\n        var _this = _super.call(this) || this;\n        _this.object = object;\n        _this.domElement = (domElement !== undefined) ? domElement : document;\n        _this.window = (domWindow !== undefined) ? domWindow : window;\n        // Set to false to disable this control\n        _this.enabled = true;\n        // \"target\" sets the location of focus, where the object orbits around\n        _this.target = new THREE.Vector3();\n        // How far you can dolly in and out ( PerspectiveCamera only )\n        _this.minDistance = 0;\n        _this.maxDistance = Infinity;\n        // How far you can zoom in and out ( OrthographicCamera only )\n        _this.minZoom = 0;\n        _this.maxZoom = Infinity;\n        // How far you can orbit vertically, upper and lower limits.\n        // Range is 0 to Math.PI radians.\n        _this.minPolarAngle = 0; // radians\n        _this.maxPolarAngle = Math.PI; // radians\n        // How far you can orbit horizontally, upper and lower limits.\n        // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n        _this.minAzimuthAngle = -Infinity; // radians\n        _this.maxAzimuthAngle = Infinity; // radians\n        // Set to true to enable damping (inertia)\n        // If damping is enabled, you must call controls.update() in your animation loop\n        _this.enableDamping = false;\n        _this.dampingFactor = 0.25;\n        // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n        // Set to false to disable zooming\n        _this.enableZoom = true;\n        _this.zoomSpeed = 1.0;\n        // Set to false to disable rotating\n        _this.enableRotate = true;\n        _this.rotateSpeed = 1.0;\n        // Set to false to disable panning\n        _this.enablePan = true;\n        _this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n        // Set to true to automatically rotate around the target\n        // If auto-rotate is enabled, you must call controls.update() in your animation loop\n        _this.autoRotate = false;\n        _this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n        // Set to false to disable use of the keys\n        _this.enableKeys = true;\n        // The four arrow keys\n        _this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n        // Mouse buttons\n        _this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n        // for reset\n        _this.target0 = _this.target.clone();\n        _this.position0 = _this.object.position.clone();\n        _this.zoom0 = _this.object.zoom;\n        // for update speedup\n        _this.updateOffset = new THREE.Vector3();\n        // so camera.up is the orbit axis\n        _this.updateQuat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n        _this.updateQuatInverse = _this.updateQuat.clone().inverse();\n        _this.updateLastPosition = new THREE.Vector3();\n        _this.updateLastQuaternion = new THREE.Quaternion();\n        _this.state = STATE.NONE;\n        _this.scale = 1;\n        // current position in spherical coordinates\n        _this.spherical = new THREE.Spherical();\n        _this.sphericalDelta = new THREE.Spherical();\n        _this.panOffset = new THREE.Vector3();\n        _this.zoomChanged = false;\n        _this.rotateStart = new THREE.Vector2();\n        _this.rotateEnd = new THREE.Vector2();\n        _this.rotateDelta = new THREE.Vector2();\n        _this.panStart = new THREE.Vector2();\n        _this.panEnd = new THREE.Vector2();\n        _this.panDelta = new THREE.Vector2();\n        _this.dollyStart = new THREE.Vector2();\n        _this.dollyEnd = new THREE.Vector2();\n        _this.dollyDelta = new THREE.Vector2();\n        _this.panLeftV = new THREE.Vector3();\n        _this.panUpV = new THREE.Vector3();\n        _this.panInternalOffset = new THREE.Vector3();\n        // event handlers - FSM: listen for events and reset state\n        _this.onMouseDown = function (event) {\n            if (_this.enabled === false)\n                return;\n            event.preventDefault();\n            if (event.button === _this.mouseButtons.ORBIT) {\n                if (_this.enableRotate === false)\n                    return;\n                _this.rotateStart.set(event.clientX, event.clientY);\n                _this.state = STATE.ROTATE;\n            }\n            else if (event.button === _this.mouseButtons.ZOOM) {\n                if (_this.enableZoom === false)\n                    return;\n                _this.dollyStart.set(event.clientX, event.clientY);\n                _this.state = STATE.DOLLY;\n            }\n            else if (event.button === _this.mouseButtons.PAN) {\n                if (_this.enablePan === false)\n                    return;\n                _this.panStart.set(event.clientX, event.clientY);\n                _this.state = STATE.PAN;\n            }\n            if (_this.state !== STATE.NONE) {\n                document.addEventListener('mousemove', _this.onMouseMove, false);\n                document.addEventListener('mouseup', _this.onMouseUp, false);\n                _this.dispatchEvent(START_EVENT);\n            }\n        };\n        _this.onMouseMove = function (event) {\n            if (_this.enabled === false)\n                return;\n            event.preventDefault();\n            if (_this.state === STATE.ROTATE) {\n                if (_this.enableRotate === false)\n                    return;\n                _this.rotateEnd.set(event.clientX, event.clientY);\n                _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n                var element = _this.domElement === document ? _this.domElement.body : _this.domElement;\n                // rotating across whole screen goes 360 degrees around\n                _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed);\n                // rotating up and down along whole screen attempts to go 360, but limited to 180\n                _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n                _this.rotateStart.copy(_this.rotateEnd);\n                _this.update();\n            }\n            else if (_this.state === STATE.DOLLY) {\n                if (_this.enableZoom === false)\n                    return;\n                _this.dollyEnd.set(event.clientX, event.clientY);\n                _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n                if (_this.dollyDelta.y > 0) {\n                    _this.dollyIn(_this.getZoomScale());\n                }\n                else if (_this.dollyDelta.y < 0) {\n                    _this.dollyOut(_this.getZoomScale());\n                }\n                _this.dollyStart.copy(_this.dollyEnd);\n                _this.update();\n            }\n            else if (_this.state === STATE.PAN) {\n                if (_this.enablePan === false)\n                    return;\n                _this.panEnd.set(event.clientX, event.clientY);\n                _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n                _this.pan(_this.panDelta.x, _this.panDelta.y);\n                _this.panStart.copy(_this.panEnd);\n                _this.update();\n            }\n        };\n        _this.onMouseUp = function (event) {\n            if (_this.enabled === false)\n                return;\n            document.removeEventListener('mousemove', _this.onMouseMove, false);\n            document.removeEventListener('mouseup', _this.onMouseUp, false);\n            _this.dispatchEvent(END_EVENT);\n            _this.state = STATE.NONE;\n        };\n        _this.onMouseWheel = function (event) {\n            if (_this.enabled === false || _this.enableZoom === false || (_this.state !== STATE.NONE && _this.state !== STATE.ROTATE))\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            if (event.deltaY < 0) {\n                _this.dollyOut(_this.getZoomScale());\n            }\n            else if (event.deltaY > 0) {\n                _this.dollyIn(_this.getZoomScale());\n            }\n            _this.update();\n            _this.dispatchEvent(START_EVENT); // not sure why these are here...\n            _this.dispatchEvent(END_EVENT);\n        };\n        _this.onKeyDown = function (event) {\n            if (_this.enabled === false || _this.enableKeys === false || _this.enablePan === false)\n                return;\n            switch (event.keyCode) {\n                case _this.keys.UP:\n                    {\n                        _this.pan(0, _this.keyPanSpeed);\n                        _this.update();\n                    }\n                    break;\n                case _this.keys.BOTTOM:\n                    {\n                        _this.pan(0, -_this.keyPanSpeed);\n                        _this.update();\n                    }\n                    break;\n                case _this.keys.LEFT:\n                    {\n                        _this.pan(_this.keyPanSpeed, 0);\n                        _this.update();\n                    }\n                    break;\n                case _this.keys.RIGHT:\n                    {\n                        _this.pan(-_this.keyPanSpeed, 0);\n                        _this.update();\n                    }\n                    break;\n            }\n        };\n        _this.onTouchStart = function (event) {\n            if (_this.enabled === false)\n                return;\n            switch (event.touches.length) {\n                // one-fingered touch: rotate\n                case 1:\n                    {\n                        if (_this.enableRotate === false)\n                            return;\n                        _this.rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.state = STATE.TOUCH_ROTATE;\n                    }\n                    break;\n                // two-fingered touch: dolly\n                case 2:\n                    {\n                        if (_this.enableZoom === false)\n                            return;\n                        var dx = event.touches[0].pageX - event.touches[1].pageX;\n                        var dy = event.touches[0].pageY - event.touches[1].pageY;\n                        var distance = Math.sqrt(dx * dx + dy * dy);\n                        _this.dollyStart.set(0, distance);\n                        _this.state = STATE.TOUCH_DOLLY;\n                    }\n                    break;\n                // three-fingered touch: pan\n                case 3:\n                    {\n                        if (_this.enablePan === false)\n                            return;\n                        _this.panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.state = STATE.TOUCH_PAN;\n                    }\n                    break;\n                default: {\n                    _this.state = STATE.NONE;\n                }\n            }\n            if (_this.state !== STATE.NONE) {\n                _this.dispatchEvent(START_EVENT);\n            }\n        };\n        _this.onTouchMove = function (event) {\n            if (_this.enabled === false)\n                return;\n            event.preventDefault();\n            event.stopPropagation();\n            switch (event.touches.length) {\n                // one-fingered touch: rotate\n                case 1:\n                    {\n                        if (_this.enableRotate === false)\n                            return;\n                        if (_this.state !== STATE.TOUCH_ROTATE)\n                            return; // is this needed?...\n                        _this.rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.rotateDelta.subVectors(_this.rotateEnd, _this.rotateStart);\n                        var element = _this.domElement === document ? _this.domElement.body : _this.domElement;\n                        // rotating across whole screen goes 360 degrees around\n                        _this.rotateLeft(2 * Math.PI * _this.rotateDelta.x / element.clientWidth * _this.rotateSpeed);\n                        // rotating up and down along whole screen attempts to go 360, but limited to 180\n                        _this.rotateUp(2 * Math.PI * _this.rotateDelta.y / element.clientHeight * _this.rotateSpeed);\n                        _this.rotateStart.copy(_this.rotateEnd);\n                        _this.update();\n                    }\n                    break;\n                // two-fingered touch: dolly\n                case 2:\n                    {\n                        if (_this.enableZoom === false)\n                            return;\n                        if (_this.state !== STATE.TOUCH_DOLLY)\n                            return; // is this needed?...\n                        //console.log( 'handleTouchMoveDolly' );\n                        var dx = event.touches[0].pageX - event.touches[1].pageX;\n                        var dy = event.touches[0].pageY - event.touches[1].pageY;\n                        var distance = Math.sqrt(dx * dx + dy * dy);\n                        _this.dollyEnd.set(0, distance);\n                        _this.dollyDelta.subVectors(_this.dollyEnd, _this.dollyStart);\n                        if (_this.dollyDelta.y > 0) {\n                            _this.dollyOut(_this.getZoomScale());\n                        }\n                        else if (_this.dollyDelta.y < 0) {\n                            _this.dollyIn(_this.getZoomScale());\n                        }\n                        _this.dollyStart.copy(_this.dollyEnd);\n                        _this.update();\n                    }\n                    break;\n                // three-fingered touch: pan\n                case 3:\n                    {\n                        if (_this.enablePan === false)\n                            return;\n                        if (_this.state !== STATE.TOUCH_PAN)\n                            return; // is this needed?...\n                        _this.panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n                        _this.panDelta.subVectors(_this.panEnd, _this.panStart);\n                        _this.pan(_this.panDelta.x, _this.panDelta.y);\n                        _this.panStart.copy(_this.panEnd);\n                        _this.update();\n                    }\n                    break;\n                default: {\n                    _this.state = STATE.NONE;\n                }\n            }\n        };\n        _this.onTouchEnd = function (event) {\n            if (_this.enabled === false)\n                return;\n            _this.dispatchEvent(END_EVENT);\n            _this.state = STATE.NONE;\n        };\n        _this.onContextMenu = function (event) {\n            event.preventDefault();\n        };\n        _this.domElement.addEventListener('contextmenu', _this.onContextMenu, false);\n        _this.domElement.addEventListener('mousedown', _this.onMouseDown, false);\n        _this.domElement.addEventListener('wheel', _this.onMouseWheel, false);\n        _this.domElement.addEventListener('touchstart', _this.onTouchStart, false);\n        _this.domElement.addEventListener('touchend', _this.onTouchEnd, false);\n        _this.domElement.addEventListener('touchmove', _this.onTouchMove, false);\n        _this.window.addEventListener('keydown', _this.onKeyDown, false);\n        // force an update at start\n        _this.update();\n        return _this;\n    }\n    OrbitControls.prototype.update = function () {\n        var position = this.object.position;\n        this.updateOffset.copy(position).sub(this.target);\n        // rotate offset to \"y-axis-is-up\" space\n        this.updateOffset.applyQuaternion(this.updateQuat);\n        // angle from z-axis around y-axis\n        this.spherical.setFromVector3(this.updateOffset);\n        if (this.autoRotate && this.state === STATE.NONE) {\n            this.rotateLeft(this.getAutoRotationAngle());\n        }\n        this.spherical.theta += this.sphericalDelta.theta;\n        this.spherical.phi += this.sphericalDelta.phi;\n        // restrict theta to be between desired limits\n        this.spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this.spherical.theta));\n        // restrict phi to be between desired limits\n        this.spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this.spherical.phi));\n        this.spherical.makeSafe();\n        this.spherical.radius *= this.scale;\n        // restrict radius to be between desired limits\n        this.spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this.spherical.radius));\n        // move target to panned location\n        this.target.add(this.panOffset);\n        this.updateOffset.setFromSpherical(this.spherical);\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        this.updateOffset.applyQuaternion(this.updateQuatInverse);\n        position.copy(this.target).add(this.updateOffset);\n        this.object.lookAt(this.target);\n        if (this.enableDamping === true) {\n            this.sphericalDelta.theta *= (1 - this.dampingFactor);\n            this.sphericalDelta.phi *= (1 - this.dampingFactor);\n        }\n        else {\n            this.sphericalDelta.set(0, 0, 0);\n        }\n        this.scale = 1;\n        this.panOffset.set(0, 0, 0);\n        // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n        if (this.zoomChanged ||\n            this.updateLastPosition.distanceToSquared(this.object.position) > EPS ||\n            8 * (1 - this.updateLastQuaternion.dot(this.object.quaternion)) > EPS) {\n            this.dispatchEvent(CHANGE_EVENT);\n            this.updateLastPosition.copy(this.object.position);\n            this.updateLastQuaternion.copy(this.object.quaternion);\n            this.zoomChanged = false;\n            return true;\n        }\n        return false;\n    };\n    OrbitControls.prototype.panLeft = function (distance, objectMatrix) {\n        this.panLeftV.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n        this.panLeftV.multiplyScalar(-distance);\n        this.panOffset.add(this.panLeftV);\n    };\n    OrbitControls.prototype.panUp = function (distance, objectMatrix) {\n        this.panUpV.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n        this.panUpV.multiplyScalar(distance);\n        this.panOffset.add(this.panUpV);\n    };\n    // deltaX and deltaY are in pixels; right and down are positive\n    OrbitControls.prototype.pan = function (deltaX, deltaY) {\n        var element = this.domElement === document ? this.domElement.body : this.domElement;\n        if (this.object instanceof THREE.PerspectiveCamera) {\n            // perspective\n            var position = this.object.position;\n            this.panInternalOffset.copy(position).sub(this.target);\n            var targetDistance = this.panInternalOffset.length();\n            // half of the fov is center to top of screen\n            targetDistance *= Math.tan((this.object.fov / 2) * Math.PI / 180.0);\n            // we actually don't use screenWidth, since perspective camera is fixed to screen height\n            this.panLeft(2 * deltaX * targetDistance / element.clientHeight, this.object.matrix);\n            this.panUp(2 * deltaY * targetDistance / element.clientHeight, this.object.matrix);\n        }\n        else if (this.object instanceof THREE.OrthographicCamera) {\n            // orthographic\n            this.panLeft(deltaX * (this.object.right - this.object.left) / this.object.zoom / element.clientWidth, this.object.matrix);\n            this.panUp(deltaY * (this.object.top - this.object.bottom) / this.object.zoom / element.clientHeight, this.object.matrix);\n        }\n        else {\n            // camera neither orthographic nor perspective\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n            this.enablePan = false;\n        }\n    };\n    OrbitControls.prototype.dollyIn = function (dollyScale) {\n        if (this.object instanceof THREE.PerspectiveCamera) {\n            this.scale /= dollyScale;\n        }\n        else if (this.object instanceof THREE.OrthographicCamera) {\n            this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * dollyScale));\n            this.object.updateProjectionMatrix();\n            this.zoomChanged = true;\n        }\n        else {\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n            this.enableZoom = false;\n        }\n    };\n    OrbitControls.prototype.dollyOut = function (dollyScale) {\n        if (this.object instanceof THREE.PerspectiveCamera) {\n            this.scale *= dollyScale;\n        }\n        else if (this.object instanceof THREE.OrthographicCamera) {\n            this.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / dollyScale));\n            this.object.updateProjectionMatrix();\n            this.zoomChanged = true;\n        }\n        else {\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n            this.enableZoom = false;\n        }\n    };\n    OrbitControls.prototype.getAutoRotationAngle = function () {\n        return 2 * Math.PI / 60 / 60 * this.autoRotateSpeed;\n    };\n    OrbitControls.prototype.getZoomScale = function () {\n        return Math.pow(0.95, this.zoomSpeed);\n    };\n    OrbitControls.prototype.rotateLeft = function (angle) {\n        this.sphericalDelta.theta -= angle;\n    };\n    OrbitControls.prototype.rotateUp = function (angle) {\n        this.sphericalDelta.phi -= angle;\n    };\n    OrbitControls.prototype.getPolarAngle = function () {\n        return this.spherical.phi;\n    };\n    OrbitControls.prototype.getAzimuthalAngle = function () {\n        return this.spherical.theta;\n    };\n    OrbitControls.prototype.dispose = function () {\n        this.domElement.removeEventListener('contextmenu', this.onContextMenu, false);\n        this.domElement.removeEventListener('mousedown', this.onMouseDown, false);\n        this.domElement.removeEventListener('wheel', this.onMouseWheel, false);\n        this.domElement.removeEventListener('touchstart', this.onTouchStart, false);\n        this.domElement.removeEventListener('touchend', this.onTouchEnd, false);\n        this.domElement.removeEventListener('touchmove', this.onTouchMove, false);\n        document.removeEventListener('mousemove', this.onMouseMove, false);\n        document.removeEventListener('mouseup', this.onMouseUp, false);\n        this.window.removeEventListener('keydown', this.onKeyDown, false);\n        //this.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    };\n    OrbitControls.prototype.reset = function () {\n        this.target.copy(this.target0);\n        this.object.position.copy(this.position0);\n        this.object.zoom = this.zoom0;\n        this.object.updateProjectionMatrix();\n        this.dispatchEvent(CHANGE_EVENT);\n        this.update();\n        this.state = STATE.NONE;\n    };\n    Object.defineProperty(OrbitControls.prototype, \"center\", {\n        // backward compatibility\n        get: function () {\n            console.warn('THREE.OrbitControls: .center has been renamed to .target');\n            return this.target;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(OrbitControls.prototype, \"noZoom\", {\n        get: function () {\n            console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n            return !this.enableZoom;\n        },\n        set: function (value) {\n            console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');\n            this.enableZoom = !value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return OrbitControls;\n}(THREE.EventDispatcher));\nexports.OrbitControls = OrbitControls;\n"]},"metadata":{},"sourceType":"script"}